---
layout: post
title: Thinking in Java C7 复用类
category: notes
description: 
---

#####1. 复用类型

* 组合：在新的类中产生现有类的对象，直接让这些现有的对象为新类服务
* 继承：在现有类中添加新的方法，无需改变现有类
* 代理：把一个成员对象于新类中（组合，has-a）,但是在新类中编写方法暴露该成员对象的所有方法.

可以为每个类创建一个main()方法（可以是public或默认权限），只有命令行指定的那个类的main()方法才会调用。

#####2. 继承
单根继承：所有类都直接或间接继承自Object类。  
Java会自动在导出类的构造器中调用基类的默认构造器。若基类没有默认构造器，则在导出类的构造器的第一句使用`super(参数)`调用基类构造器。  
尽量避免使用继承，除非需要向上转型为基类。

名称屏蔽：导出类中的函数可以和基类函数重载。（C++中会隐藏基类中的同名非virtual方法）。  
@Override注解：若方法不是覆盖了基类的方法，会报编译错误。避免意外重载。

#####3. 正确清理
不要依赖finalize()函数。  
自定义清理的方法来清理对象。先清理自己，再清理基类。
对try块中的对象，在finally子句中调用清理函数。

#####4. final关键字

* final 数据  
恒定不变的数据。  
对static final类型数据通常使用大写下划线表示。  
在定义时不必初始化（空白final），此时需要在所有构造器中赋值，这样使每个对象可以拥有不同的final值。还可以使用函数来赋值。  
在函数参数中使用时，不可改变参数的值或指向。主要用来向匿名内部类传递数据。

	* 基本类型：数据值不变。
	* 引用类型：引用指向恒定不变。  
* final 方法  
方法不能被覆盖。（可重载）  
类中所有的private方法都隐式指定为final的，此时在继承类中定义的相同方法不是覆盖，因为基类中的private不提供对外的接口。
* final 类  
类不能被继承。final类中的所有方法都隐式指定为final的。
